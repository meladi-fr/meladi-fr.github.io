<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Datepicker code courtesy of https://codepen.io/2kool2/pen/dyzbmaN and https://mymth.github.io/vanillajs-datepicker -->
    <title>Unit 4 Form</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/js/datepicker-full.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.2.0/dist/css/datepicker-bs5.min.css">
    <link rel="icon" type="image/png" href="Images/logo.png">
    <link rel="stylesheet" href="bootstrap-icons.css">
    <style>
        .alert {
            z-index: 999;
        }
        /* Adapts a floating label for use with a left-handed input group icon on datepicker */
        .form-floating > .bi-calendar-date + .datepicker_input + label {
            padding-left: 3.5rem;
            z-index: 3;
        }
    </style>
    <!-- load navbar.html for identical navbar across all pages -->
    <script>
        $(function () {
            $("#common-navbar").load("navbar.html");
        });
    </script>

</head>
<body style="background-color: white">
    <!-- navbar -->
    <div id="common-navbar"></div>
    <!-- end navbar -->

    <div id="liveAlertPlaceholder" style="padding-top:65px"></div>
    <div style="padding: 25px;">
        <div class="row">
            <div class="col-sm-6 p-3">Hey there!  You've heard enough about me, tell me about yourself! </div>
        </div>
        <div class="row">
            <div class="col-sm-2 p-3">
                First Name:
            </div>
            <div class="col-sm-3 p-3">
                <input type="text" id="txtFirstName" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2 p-3">
                Middle Name:
            </div>
            <div class="col-sm-3 p-3">
                <input type="text" id="txtMiddleName" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2 p-3">
                Last Name:
            </div>
            <div class="col-sm-3 p-3">
                <input type="text" id="txtLastName" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-2 p-3">
                Email Address:
            </div>
            <div class="col-sm-3 p-3">
                <input type="text" id="txtEmail" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 p-3">
                What's your favorite move?
            </div>
            <div class="col-sm-2 p-3">
                <input type="text" id="txtMovie" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 p-3">
                Do you have any pets? What kind?
            </div>
            <div class="col-sm-2 p-3">
                <input type="text" id="txtPets" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 p-3">
                What do you do on the weekends?
            </div>
            <div class="col-sm-2 p-3">
                <input type="text" id="txtWeekends" />
            </div>
        </div>
        <div class="row">
            <div class="col-sm-3 p-3">
                When is your birthday?
            </div>
            <div class="col-sm-2 p-3">
                <div class="input-group mb-4">
                    <i class="bi bi-calendar-date input-group-text"></i>
                    <input type="text" class="datepicker_input form-control" placeholder="Date" required aria-label="Your birthday">
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-5 p-3">
                <button type="button" class="btn btn-primary" id="liveAlertBtn">Submit</button>
            </div>
        </div>
    </div>
    <script>
        //alert code
        var alertPlaceholder = document.getElementById('liveAlertPlaceholder')
        var alertTrigger = document.getElementById('liveAlertBtn')

        function alert(message, type) {
            var wrapper = document.createElement('div')
            wrapper.innerHTML = '<div class="alert alert-' + type + ' alert-dismissible fade show" role="alert">' + message + '<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>'

            alertPlaceholder.append(wrapper)
        }

        if (alertTrigger) {
            alertTrigger.addEventListener('click', function () {
                alert('Thanks, I look forward to learning more about you!', 'success')
            })
        }

        //datepicker code
        const getDatePickerTitle = elem => {
            // From the label or the aria-label
            const label = elem.nextElementSibling;
            let titleText = '';
            if (label && label.tagName === 'LABEL') {
                titleText = label.textContent;
            } else {
                titleText = elem.getAttribute('aria-label') || '';
            }
            return titleText;
        }

        const elems = document.querySelectorAll('.datepicker_input');
        for (const elem of elems) {
            const datepicker = new Datepicker(elem, {
                'format': 'mm/dd/yyyy', // US format
                title: getDatePickerTitle(elem)
            });
        }

    </script>
</body>
</html>
